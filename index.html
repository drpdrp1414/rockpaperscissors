<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
        
        function game()
        {
            let current_round
            let player_wins = 0
            let computer_wins = 0
            console.log("Play Rock Paper Scissors against a bot, first to 5 wins.")
            while(player_wins != 5 && computer_wins !=5)
            {
                current_round = playRound()
                if(current_round == "win")
                    {
                        player_wins++
                        console.log("The current score is, Player score: " + player_wins + " Computer score: " + computer_wins)
                    }
                else
                    {
                        computer_wins++
                        console.log("The current score is, Player score: " + player_wins + " Computer score: " + computer_wins)
                    }
            }
            if(player_wins == 5)
            {
                console.log("You have won this game!")
            }
            else
            {
                console.log("Better luck next time you loser!")
            }




        }
        function playRound()
        {
            let playerSelection = userPlay()
            let computerSelection = computerPlay()
            if(playerSelection == "rock")
                {
                    if(computerSelection == "rock")
                    {
                        console.log("This round was a tie!")
                        
                        
                    }
                    if(computerSelection == "paper")
                    {
                        console.log("The computer won this round!")
                        return "loss"
                        
                    }
                    if(computerSelection == "scissors")
                    {
                        console.log("You win this round!")
                        return "win"
                        
                    }
                }
            if(playerSelection == "paper")
            {
                 if(computerSelection == "rock")
                 {
                    console.log("You win this round!")
                    return "win"
                    
                }
                if(computerSelection == "paper")
                {                        
                    console.log("This round was a tie!")
                       
                }
                if(computerSelection == "scissors")
                {
                    console.log("The computer won this round!")
                    return "loss"                     
                }
            }
            if(playerSelection == "scissors")
            {
                 if(computerSelection == "rock")
                 {
                    console.log("The computer won this round!")
                    return "loss"
                    
                }
                if(computerSelection == "paper")
                {                        
                    console.log("You win this round!")
                    return "win"
                       
                }
                if(computerSelection == "scissors")
                {
                    console.log("This round was a tie!")                        
                    }
                }

        }

        function computerPlay()
        {
            let computer_choice = Math.floor(Math.random() * 3) + 1
            let computer_hand
            switch(computer_choice){
                case 1:
                    computer_hand = "rock"
                    break;
                case 2:
                    computer_hand = "paper"
                    break;
                case 3:
                    computer_hand = "scissors"
                    break;
            }
            console.log("The computer has chosen " + computer_hand + "!")
            return computer_hand

        }
        function userPlay()
        {
            let user_choice = prompt("Do you choose rock, paper or scissors?")
            user_choice = user_choice.toLowerCase()
            if(user_choice == "rock" || user_choice == "paper" || user_choice == "scissors")
            {
                console.log("You have picked " + user_choice + "!")
            }
            else
            {
                console.log("Put in a real answer ya goober")
                userPlay()
            }
            return user_choice
        }

        </script>
    </body>
</html>